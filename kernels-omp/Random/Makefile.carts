# CARTS Makefile for Random example

CFLAGS = -fopenmp -O0 -DERRORPERCENT=1
INCLUDES = -I..

SRC = random.c

all: mlir arts

mlir: random.mlir

arts: random_arts.mlir

random.mlir: $(SRC)
	carts cgeist $(SRC) $(CFLAGS) $(INCLUDES) -S > random.mlir

random_arts.mlir: random.mlir
	carts run random.mlir --convert-openmp --debug-only=convert_openmp_to_arts > random_arts.mlir

clean:
	rm -f *.mlir *.o

.PHONY: all mlir arts clean

